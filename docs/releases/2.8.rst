=============================
Mayan EDMS v2.8 release notes
=============================

Released: January XX, 2018

What's new
==========

- Rename the role groups link label from "Members" to "Groups".
- Rename the group users link label from "Members" to "Users".
- Don't show full document version label in the heading of the document
  version list view.
- Show the number of pages of a document and of document versions in
  the document list view and document versions list views respectively.
- Display a document version's thumbnail before other attributes.
- User Django's provided form for setting an users password.
  This change allows displaying the current password policies
  and validation.
- Add method to modify a group's role membership from the group's
  view.
- Rename the group user count column label from "Members" to "Users".
- Backport support for global and object event notification.
  GitLab issue #262.
- Remove Vagrant section of the document. Anything related to
  Vagrant has been move into its own repository at:
  https://gitlab.com/mayan-edms/mayan-edms-vagrant
- Add view to show list of events performed by an user.
- Allow filtering an event list by clicking on the user column.
- Revise and improve permission requirements for the documents app API.
  - Downloading a document version now requires the document download permission instead of just the document view permission.
  - Creating a new document no longer works by having the document create permission in a global manner. It is now possible
    to create a document via the API by having the document permission for a specific document type.
  - Viewing the version list of a document now required the document version view permission instead of the document view permission.
    Not having the document version view permission for a document will not return a 403 error. Instead a blank response will be returned.
  - Reverting a document via API will new require the document version revert permission instead of the document edit permission.
  - ``Document view`` permissions is nor required to view the details of
    a trashed document.

- Revise and improve permission requirements for the document states app API.

  - Require the ``Workflow view`` permission for the workflow to be able
    to view a document type's workflow list.
  - Fix the permission check to create workflows. Previously it had
    not effect as it has using the ``mayan_object_permissions`` instead
    of the ``mayan_view_permissions`` dictionary.
  - Require the ``Workflow view`` permission to view the workflow instance list.
  - Require the ``Workflow view`` permission to view a workflow instance's details.

- Display a proper message in the document type metadata type relationship
  view when there are no metadata types exist.
- Improved styling and interaction of the multiple object action form.
- Add checkbox to allow selecting all item in the item list view.
- Rename project to Mayan EDMS NG.

Removals
--------
* None

Upgrading from a previous version
---------------------------------

Using PIP
~~~~~~~~~

Type in the console::

    $ pip install -U mayan-edms

the requirements will also be updated automatically.

Using Git
~~~~~~~~~

If you installed Mayan EDMS by cloning the Git repository issue the commands::

    $ git reset --hard HEAD
    $ git pull

otherwise download the compressed archived and uncompress it overriding the
existing installation.

Next upgrade/add the new requirements::

    $ pip install --upgrade -r requirements.txt

Common steps
~~~~~~~~~~~~

Migrate existing database schema with::

    $ mayan-edms.py performupgrade

Add new static media::

    $ mayan-edms.py collectstatic --noinput

The upgrade procedure is now complete.


Backward incompatible changes
=============================

* None

Bugs fixed or issues closed
===========================

* `GitLab issue #262 <https://gitlab.com/mayan-edms/mayan-edms/issues/262>`_ Event notifications

.. _PyPI: https://pypi.python.org/pypi/mayan-edms/
